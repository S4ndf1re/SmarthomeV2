(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{108:function(t,e,n){},112:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(39),o=n.n(i),s=(n(96),n(17)),r=n(18),u=n(20),l=n(19),d=(n(97),n(98),n(44),n(54)),h=n(1),f=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={name:t.name,text:t.text,list:t.list},a}return Object(r.a)(n,[{key:"render",value:function(){return Object(h.jsx)(d.b,{to:this.state.name,className:"container blog-shadow-dreamy",children:Object(h.jsx)("p",{children:this.state.text})})}}]),n}(c.a.Component),j=(n(108),n(75),function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={data:{containers:[]}},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;window.fetch("/gui",{credentials:"include",redirect:"follow"}).then((function(t){if(!t.redirected)return t.json();window.location.href="/login"})).then((function(e){t.setState({data:e})}))}},{key:"render",value:function(){var t=this.state.data;return Object(h.jsxs)("div",{className:"max-div",children:[Object(h.jsx)("h1",{children:"Devices"}),Object(h.jsx)("div",{className:"containerView blog-shadow-dreamy",children:t.containers.map((function(t){return Object(h.jsx)(f,{name:t.name,text:t.text,list:t.list})}))})]})}}]),n}(c.a.Component)),m=(n(49),n(159)),v=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={onClick:t.onClick,name:t.name,text:t.text},a}return Object(r.a)(n,[{key:"render",value:function(){var t=this;return Object(h.jsx)("div",{className:"default-align default-margin default-padding",children:Object(h.jsx)(m.a,{variant:"outlined",onClick:function(){return t.clickEvent()},children:this.state.text})})}},{key:"clickEvent",value:function(){window.fetch(this.state.onClick,{credentials:"include",redirect:"follow"})}}]),n}(c.a.Component),b=n(157),O=n(160),k=n(155),p=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={onStateClick:t.onStateClick,offStateClick:t.offStateClick,getStateClick:t.getStateClick,name:t.name,text:t.text,checked:!1},a}return Object(r.a)(n,[{key:"getID",value:function(){return this.state.onStateClick+this.state.offStateClick+this.state.name}},{key:"render",value:function(){var t=this;return Object(h.jsx)("div",{className:"default-align default-margin default-padding",children:Object(h.jsx)(O.a,{children:Object(h.jsx)(k.a,{control:Object(h.jsx)(b.a,{checked:this.state.checked,onChange:function(e){return t.clickEvent(e)}}),label:this.state.text})})})}},{key:"componentDidMount",value:function(){var t=this;window.fetch(this.state.getStateClick,{credentials:"include",redirect:"follow"}).then((function(t){return t.json()})).then((function(e){t.setState({checked:e.status})}))}},{key:"clickEvent",value:function(t){var e=this,n="";n=t.target.checked?this.state.onStateClick:this.state.offStateClick,window.fetch(n,{credentials:"include",redirect:"follow"}).then((function(t){return t.json()})).then((function(t){e.setState({checked:t.status})}))}}]),n}(c.a.Component),x=n(152),g=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={updateRequest:t.updateRequest,name:t.name,text:t.text,checked:!1,content:""},a}return Object(r.a)(n,[{key:"getID",value:function(){return this.state.onUpdate+this.state.name}},{key:"render",value:function(){var t=this;return Object(h.jsx)("div",{className:"default-align default-margin default-padding",children:Object(h.jsx)(x.a,{id:this.getID(),value:this.state.content,onChange:function(e){return t.clickEvent(e)},label:this.state.text,variant:"outlined",fullWidth:!0})})}},{key:"clickEvent",value:function(t){var e=t.target.value,n=JSON.stringify({text:e});window.fetch(this.state.updateRequest,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:n}),this.setState({content:e})}}]),n}(c.a.Component),w=n(45),y=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).timeout=250,a.connect=function(){if(!a.state.noReconnect){var t,e=new WebSocket("ws://"+window.location.host+a.state.updateSocket),n=Object(w.a)(a);e.onopen=function(){a.setState({ws:e}),n.timeout=250,clearTimeout(t)},e.onclose=function(e){console.log(e.reason),n.timeout=n.timeout+n.timeout,t=setTimeout(a.check,Math.min(1e4,n.timeout))},e.onerror=function(t){console.error(t),e.close()},e.onmessage=function(t){a.setState({child:null}),a.setState({child:JSON.parse(t.data)})}}},a.check=function(){var t=a.state.ws;t&&t.readyState!==WebSocket.CLOSED||a.connect()},a.state={name:t.name,ws:null,child:null,noReconnect:!1,updateRequest:t.updateRequest,updateSocket:t.updateSocket},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.setState({noReconnect:!0}),this.connect(),fetch(this.state.updateRequest,{credentials:"include"}).then((function(t){return t.json()})).then((function(e){t.setState({child:e})}))}},{key:"componentWillUnmount",value:function(){null!==this.state.ws&&(this.setState({noReconnect:!1}),this.state.ws.close())}},{key:"render",value:function(){return null===this.state.child?null:q(this.state.child)}}]),n}(c.a.Component),S=n(156),C=n(154),R=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={message:t.message,name:t.name,severity:t.severity,open:!0},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){}},{key:"handleClose",value:function(t,e){"clickaway"!==e&&this.setState({open:!1})}},{key:"render",value:function(){var t=this,e="top",n="right";return null!==this.state.message&&""!==this.state.message?Object(h.jsx)(S.a,{open:this.state.open,autoHideDuration:6e3,onClose:function(e,n){return t.handleClose(e,n)},anchorOrigin:{vertical:e,horizontal:n},children:Object(h.jsx)(C.a,{severity:this.state.severity,onClose:function(e,n){return t.handleClose(e,n)},sx:{width:"100%"},children:this.state.message})}):null}}]),n}(a.Component);var q=function(t){return"gui.Button"===t.type?Object(h.jsx)(v,{name:t.name,text:t.text,onClick:t.onClickRequest},t.name):"gui.Checkbox"===t.type?Object(h.jsx)(p,{name:t.name,text:t.text,onStateClick:t.onOnStateRequest,offStateClick:t.onOffStateRequest,getStateClick:t.onGetStateRequest},t.name):"gui.TextField"===t.type?Object(h.jsx)(g,{name:t.name,text:t.text,updateRequest:t.updateRequest},t.name):"gui.Data"===t.type?Object(h.jsx)(y,{name:t.name,updateRequest:t.updateRequest,updateSocket:t.updateSocket},t.name):"gui.Alert"===t.type?Object(h.jsx)(R,{name:t.name,message:t.message,severity:t.severity},t.name):void 0},D=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={name:t.name,text:t.text,list:t.list,onInitRequest:t.onInitRequest,onUnloadRequest:t.onUnloadRequest},a.components=[],a.updateList(),a}return Object(r.a)(n,[{key:"updateList",value:function(){var t=this;this.state.list.forEach((function(e){t.components.push(q(e))}))}},{key:"componentDidMount",value:function(){this.updateList(),window.fetch(this.state.onInitRequest,{credentials:"include",redirect:"follow"}).catch((function(t){return console.log(t)}))}},{key:"componentWillUnmount",value:function(){window.fetch(this.state.onUnloadRequest,{credentials:"include",redirect:"follow"}).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:[" ",this.state.text]}),Object(h.jsx)("div",{className:"containerView blog-shadow-dreamy",children:Object(h.jsx)(h.Fragment,{children:this.components})})]})}}]),n}(c.a.Component),E=n(14),I=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(s.a)(this,n),(a=e.call(this,t)).state={data:{containers:[]}},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var t=this;window.fetch("/gui",{credentials:"include",redirect:"manual"}).then((function(t){if(!t.redirected)return t.json();window.location.href="/login"})).then((function(e){t.setState({data:e})}))}},{key:"render",value:function(){return Object(h.jsxs)(d.a,{children:[this.state.data.containers.map((function(t){return Object(h.jsx)(E.a,{exact:!0,path:"/"+t.name,children:Object(h.jsx)(D,{name:t.name,text:t.text,list:t.list,onInitRequest:t.onInitRequest,onUnloadRequest:t.onUnloadRequest})},t.name)})),Object(h.jsx)(E.a,{exact:!0,path:"/",children:Object(h.jsx)(j,{})})]})}}]),n}(c.a.Component);o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(I,{})}),document.getElementById("root"))},44:function(t,e,n){},49:function(t,e,n){},75:function(t,e,n){},96:function(t,e,n){},97:function(t,e,n){},98:function(t,e,n){}},[[112,1,2]]]);
//# sourceMappingURL=main.a3a5c719.chunk.js.map
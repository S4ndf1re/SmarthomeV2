{"version":3,"sources":["Components/Container.js","Components/ComponentViewer.js","Components/Button.js","Components/Checkbox.js","Components/TextField.js","Components/Data.js","Components/Alert.js","Components/Util.js","Components/ComponentPage.js","App.js","index.js"],"names":["Container","props","state","name","text","list","to","this","className","React","Component","ComponentViewer","data","containers","window","fetch","credentials","redirect","then","response","json","d","setState","map","v","Button","onClick","clickEvent","Checkbox","onStateClick","offStateClick","getStateClick","checked","id","getID","type","onChange","htmlFor","document","getElementById","status","path","TextField","updateRequest","onUpdate","key","console","log","b","value","c","JSON","stringify","method","mode","cache","headers","referrerPolicy","body","Data","timeout","connect","connectInterval","ws","WebSocket","location","host","updateSocket","that","onopen","clearTimeout","onclose","e","reason","setTimeout","check","Math","min","onerror","error","close","onmessage","msg","child","parse","readyState","CLOSED","getComponentForType","Alert","message","alert","require","onClickRequest","onOnStateRequest","onOffStateRequest","onGetStateRequest","ComponentPage","onInitRequest","components","updateList","forEach","push","catch","err","App","exact","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.ef320765.chunk.js","sourcesContent":["import '../css/Container.css'\r\nimport '../css/shadow.css'\r\nimport React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nclass Container extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            text: props.text,\r\n            list: props.list\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Link to={this.state.name} className=\"container blog-shadow-dreamy\">\r\n                <p>{this.state.text}</p>\r\n            </Link>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Container;\r\n","import React from 'react'\r\nimport Container from './Container'\r\nimport '../css/ComponentViewer.css'\r\nimport '../css/containerView.css'\r\n\r\nclass ComponentViewer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: {\r\n                containers: []\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.fetch(\"/gui\", {\r\n                credentials: \"include\",\r\n                redirect: \"follow\"\r\n            }\r\n        ).then(response => response.json()).then(d => {\r\n            this.setState({data: d})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const data = this.state.data\r\n        return (\r\n            <div className=\"max-div\">\r\n                <h1>Devices</h1>\r\n                <div className=\"containerView blog-shadow-dreamy\">\r\n                    {\r\n                        data[\"containers\"].map(v => <Container name={v.name} text={v.text} list={v.list}/>)\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ComponentViewer;","import '../css/Button.css'\r\nimport '../css/ComponentPage.css'\r\nimport '../css/shadow.css'\r\nimport React from 'react'\r\n\r\nclass Button extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onClick: props.onClick,\r\n            name: props.name,\r\n            text: props.text\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <button className=\"buttonClass default-margin blog-shadow-dreamy default-padding\"\r\n                    onClick={() => this.clickEvent()}>{this.state.text}</button>\r\n        )\r\n    }\r\n\r\n    clickEvent() {\r\n        window.fetch(this.state.onClick, {\r\n            credentials: \"include\",\r\n            redirect: \"follow\"\r\n        })\r\n    }\r\n}\r\n\r\nexport default Button","import '../css/Checkbox.css'\r\nimport '../css/ComponentPage.css'\r\nimport '../css/shadow.css'\r\nimport React from 'react'\r\n\r\nclass Checkbox extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onStateClick: props.onStateClick,\r\n            offStateClick: props.offStateClick,\r\n            getStateClick: props.getStateClick,\r\n            name: props.name,\r\n            text: props.text,\r\n            checked: false\r\n        }\r\n    }\r\n\r\n    getID() {\r\n        return this.state.onStateClick + this.state.offStateClick + this.state.name\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"checkboxClass default-margin default-padding blog-shadow-dreamy\">\r\n                <input id={this.getID()} type=\"checkbox\"\r\n                       onChange={() => this.clickEvent()}\r\n                       checked={this.state.checked}/>\r\n                <label htmlFor={this.getID()}>{this.state.text}</label>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.fetch(this.state.getStateClick, {\r\n            credentials: \"include\",\r\n            redirect: \"follow\"\r\n        }).then(data => data.json()).then(data => {\r\n            document.getElementById(this.getID()).checked = data.status\r\n            this.setState({checked: data.status})\r\n        });\r\n    }\r\n\r\n    clickEvent() {\r\n        let path = \"\"\r\n        if (!this.state.checked) {\r\n            path = this.state.onStateClick\r\n        } else {\r\n            path = this.state.offStateClick\r\n        }\r\n        window.fetch(path, {\r\n            credentials: \"include\",\r\n            redirect: \"follow\"\r\n        }).then(data => data.json()).then(data => {\r\n            document.getElementById(this.getID()).checked = data.status\r\n            this.setState({checked: data.status});\r\n        });\r\n    }\r\n}\r\n\r\nexport default Checkbox\r\n","import '../css/Textfield.css'\r\nimport '../css/ComponentPage.css'\r\nimport '../css/shadow.css'\r\nimport '../index.css'\r\nimport React from 'react'\r\n\r\nclass TextField extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            updateRequest: props.updateRequest,\r\n            name: props.name,\r\n            text: props.text,\r\n            checked: false\r\n        }\r\n    }\r\n\r\n    getID() {\r\n        return this.state.onUpdate + this.state.name\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"textfieldClass default-margin default-padding blog-shadow-dreamy\">\r\n                <label className=\"defaultFont\" htmlFor={this.getID()}>{this.state.text}</label>\r\n                <input id={this.getID()} onChange={(key) => this.clickEvent(key)}\r\n                       className=\"textInputClass defaultFont\"/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    clickEvent(key) {\r\n        console.log(key)\r\n        let b = document.getElementById(this.getID()).value\r\n        let c = JSON.stringify({text: b})\r\n        window.fetch(this.state.updateRequest, {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            cache: 'no-cache',\r\n            credentials: 'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            redirect: 'follow',\r\n            referrerPolicy: \"no-referrer\",\r\n            body: c\r\n        });\r\n    }\r\n}\r\n\r\nexport default TextField\r\n","import '../css/Button.css'\r\nimport '../css/ComponentPage.css'\r\nimport '../css/shadow.css'\r\nimport React from 'react'\r\nimport getComponentForType from \"./Util\";\r\n\r\nclass Data extends React.Component {\r\n    timeout = 250; // Initial timeout duration as a class variable\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            ws: null,\r\n            child: null,\r\n            updateRequest: props.updateRequest,\r\n            updateSocket: props.updateSocket\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.connect()\r\n\r\n        fetch(this.state.updateRequest, {\r\n            credentials: \"include\"\r\n        }).then(data => data.json()).then(data => {\r\n            this.setState({child: data})\r\n        })\r\n    }\r\n\r\n    /**\r\n     * @function connect\r\n     * This function establishes the connect with the websocket and also ensures constant reconnection if connection closes\r\n     */\r\n    connect = () => {\r\n        let ws = new WebSocket(\"ws://\" + window.location.host + this.state.updateSocket);\r\n        let that = this; // cache the this\r\n        let connectInterval;\r\n\r\n        // websocket onopen event listener\r\n        ws.onopen = () => {\r\n            this.setState({ws: ws});\r\n\r\n            that.timeout = 250; // reset timer to 250 on open of websocket connection\r\n            clearTimeout(connectInterval); // clear Interval on on open of websocket connection\r\n        };\r\n\r\n        // websocket onclose event listener\r\n        ws.onclose = e => {\r\n            console.log(e.reason)\r\n            that.timeout = that.timeout + that.timeout; //increment retry interval\r\n            connectInterval = setTimeout(this.check, Math.min(10000, that.timeout)); //call check function after timeout\r\n        };\r\n\r\n        // websocket onerror event listener\r\n        ws.onerror = (error) => {\r\n            console.error(error)\r\n            ws.close();\r\n        };\r\n\r\n        ws.onmessage = (msg) => {\r\n            this.setState({child: null})\r\n            this.setState({child: JSON.parse(msg.data)})\r\n        }\r\n    };\r\n\r\n    check = () => {\r\n        const {ws} = this.state;\r\n        if (!ws || ws.readyState === WebSocket.CLOSED) this.connect(); //check if websocket instance is closed, if so call `connect` function.\r\n    };\r\n\r\n    render() {\r\n        if (this.state.child === null) {\r\n            return null;\r\n        }\r\n        return getComponentForType(this.state.child);\r\n    }\r\n\r\n}\r\n\r\nexport default Data","const {Component} = require(\"react\");\r\n\r\n\r\nclass Alert extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            message: props.message,\r\n            name: props.name\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.state.message !== null && this.state.message !== \"\") {\r\n            alert(this.state.message)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return null\r\n    }\r\n\r\n}\r\n\r\nexport default Alert;","import Button from \"./Button\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport TextField from \"./TextField\";\r\nimport Data from \"./Data\";\r\nimport Alert from \"./Alert\";\r\n\r\nfunction getComponentForType(state) {\r\n    if (state.type === \"gui.Button\") {\r\n        return <Button key={state.name} name={state.name} text={state.text}\r\n                       onClick={state.onClickRequest}/>\r\n    } else if (state.type === \"gui.Checkbox\") {\r\n        return <Checkbox key={state.name} name={state.name} text={state.text}\r\n                         onStateClick={state.onOnStateRequest}\r\n                         offStateClick={state.onOffStateRequest}\r\n                         getStateClick={state.onGetStateRequest}/>\r\n    } else if (state.type === \"gui.TextField\") {\r\n        return <TextField key={state.name} name={state.name} text={state.text}\r\n                          updateRequest={state.updateRequest}/>\r\n    } else if (state.type === \"gui.Data\") {\r\n        return <Data key={state.name} name={state.name} updateRequest={state.updateRequest}\r\n                     updateSocket={state.updateSocket}/>\r\n    } else if (state.type === \"gui.Alert\") {\r\n        return <Alert key={state.name} name={state.name} message={state.message}/>\r\n    }\r\n}\r\n\r\nexport default getComponentForType","import React from 'react'\r\nimport '../css/shadow.css'\r\nimport '../css/ComponentPage.css'\r\nimport '../css/containerView.css'\r\nimport getComponentForType from \"./Util\";\r\n\r\nclass ComponentPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            text: props.text,\r\n            list: props.list,\r\n            onInitRequest: props.onInitRequest\r\n        }\r\n        this.components = []\r\n        this.updateList()\r\n    }\r\n\r\n    updateList() {\r\n        this.state.list.forEach(state => {\r\n            this.components.push(getComponentForType(state))\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateList()\r\n        window.fetch(this.state.onInitRequest, {\r\n                credentials: \"include\",\r\n                redirect: \"follow\"\r\n            }\r\n        ).catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1> {this.state.text}\r\n                </h1>\r\n                <div className=\"containerView blog-shadow-dreamy\">\r\n                    <>\r\n                        {this.components}\r\n                    </>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default ComponentPage","import './css/App.css';\r\nimport React from 'react'\r\nimport ComponentViewer from './Components/ComponentViewer'\r\nimport ComponentPage from './Components/ComponentPage'\r\nimport {BrowserRouter as Router, Route,} from \"react-router-dom\"\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: {\r\n                containers: []\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.fetch(\"/gui\", {\r\n                credentials: \"include\",\r\n                redirect: \"follow\"\r\n            }\r\n        ).then(response => response.json()).then(d => {\r\n            this.setState({data: d})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                {\r\n                    this.state.data.containers.map(v =>\r\n                        <Route key={v.name} exact path={\"/\" + v.name}>\r\n                            <ComponentPage name={v.name} text={v.text} list={v.list} onInitRequest={v.onInitRequest}/>\r\n                        </Route>\r\n                    )\r\n                }\r\n                <Route exact path=\"/\">\r\n                    <ComponentViewer/>\r\n                </Route>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}
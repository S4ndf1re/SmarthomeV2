(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{12:function(t,e,n){},13:function(t,e,n){},21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){},30:function(t,e,n){},31:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),i=n(24),s=n.n(i),o=(n(21),n(4)),u=n(5),r=n(7),l=n(6),d=(n(30),n(31),n(12),n(16)),h=n(1),f=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={name:t.name,text:t.text,list:t.list},a}return Object(u.a)(n,[{key:"render",value:function(){return Object(h.jsx)(d.b,{to:this.state.name,className:"container blog-shadow-dreamy",children:Object(h.jsx)("p",{children:this.state.text})})}}]),n}(c.a.Component),m=(n(41),n(22),function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={data:{containers:[]}},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;window.fetch("/gui",{credentials:"include",redirect:"follow"}).then((function(t){return t.json()})).then((function(e){t.setState({data:e})}))}},{key:"render",value:function(){var t=this.state.data;return Object(h.jsxs)("div",{className:"max-div",children:[Object(h.jsx)("h1",{children:"Devices"}),Object(h.jsx)("div",{className:"containerView blog-shadow-dreamy",children:t.containers.map((function(t){return Object(h.jsx)(f,{name:t.name,text:t.text,list:t.list})}))})]})}}]),n}(c.a.Component)),j=(n(13),n(23),function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={onClick:t.onClick,name:t.name,text:t.text},a}return Object(u.a)(n,[{key:"render",value:function(){var t=this;return Object(h.jsx)("button",{className:"buttonClass default-margin blog-shadow-dreamy default-padding",onClick:function(){return t.clickEvent()},children:this.state.text})}},{key:"clickEvent",value:function(){window.fetch(this.state.onClick,{credentials:"include",redirect:"follow"})}}]),n}(c.a.Component)),b=(n(42),function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={onStateClick:t.onStateClick,offStateClick:t.offStateClick,getStateClick:t.getStateClick,name:t.name,text:t.text,checked:!1},a}return Object(u.a)(n,[{key:"getID",value:function(){return this.state.onStateClick+this.state.offStateClick+this.state.name}},{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"checkboxClass default-margin default-padding blog-shadow-dreamy",children:[Object(h.jsx)("input",{id:this.getID(),type:"checkbox",onChange:function(){return t.clickEvent()},checked:this.state.checked}),Object(h.jsx)("label",{htmlFor:this.getID(),children:this.state.text})]})}},{key:"componentDidMount",value:function(){var t=this;window.fetch(this.state.getStateClick,{credentials:"include",redirect:"follow"}).then((function(t){return t.json()})).then((function(e){document.getElementById(t.getID()).checked=e.status,t.setState({checked:e.status})}))}},{key:"clickEvent",value:function(){var t=this,e="";e=this.state.checked?this.state.offStateClick:this.state.onStateClick,window.fetch(e,{credentials:"include",redirect:"follow"}).then((function(t){return t.json()})).then((function(e){document.getElementById(t.getID()).checked=e.status,t.setState({checked:e.status})}))}}]),n}(c.a.Component)),O=(n(43),function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={updateRequest:t.updateRequest,name:t.name,text:t.text,checked:!1},a}return Object(u.a)(n,[{key:"getID",value:function(){return this.state.onUpdate+this.state.name}},{key:"render",value:function(){var t=this;return Object(h.jsxs)("div",{className:"textfieldClass default-margin default-padding blog-shadow-dreamy",children:[Object(h.jsx)("label",{className:"defaultFont",htmlFor:this.getID(),children:this.state.text}),Object(h.jsx)("input",{id:this.getID(),onChange:function(e){return t.clickEvent(e)},className:"textInputClass defaultFont"})]})}},{key:"clickEvent",value:function(t){console.log(t);var e=document.getElementById(this.getID()).value,n=JSON.stringify({text:e});window.fetch(this.state.updateRequest,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:n})}}]),n}(c.a.Component)),k=n(15),v=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).timeout=250,a.connect=function(){var t,e=new WebSocket("ws://"+window.location.host+a.state.updateSocket),n=Object(k.a)(a);e.onopen=function(){a.setState({ws:e}),n.timeout=250,clearTimeout(t)},e.onclose=function(e){console.log(e.reason),n.timeout=n.timeout+n.timeout,t=setTimeout(a.check,Math.min(1e4,n.timeout))},e.onerror=function(t){console.error(t),e.close()},e.onmessage=function(t){a.setState({child:null}),a.setState({child:JSON.parse(t.data)})}},a.check=function(){var t=a.state.ws;t&&t.readyState!==WebSocket.CLOSED||a.connect()},a.state={name:t.name,ws:null,child:null,updateRequest:t.updateRequest,updateSocket:t.updateSocket},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;this.connect(),fetch(this.state.updateRequest,{credentials:"include"}).then((function(t){return t.json()})).then((function(e){t.setState({child:e})}))}},{key:"render",value:function(){return null===this.state.child?null:x(this.state.child)}}]),n}(c.a.Component),p=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={message:t.message,name:t.name},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){null!==this.state.message&&""!==this.state.message&&alert(this.state.message)}},{key:"render",value:function(){return null}}]),n}(n(0).Component);var x=function(t){return"gui.Button"===t.type?Object(h.jsx)(j,{name:t.name,text:t.text,onClick:t.onClickRequest},t.name):"gui.Checkbox"===t.type?Object(h.jsx)(b,{name:t.name,text:t.text,onStateClick:t.onOnStateRequest,offStateClick:t.onOffStateRequest,getStateClick:t.onGetStateRequest},t.name):"gui.TextField"===t.type?Object(h.jsx)(O,{name:t.name,text:t.text,updateRequest:t.updateRequest},t.name):"gui.Data"===t.type?Object(h.jsx)(v,{name:t.name,updateRequest:t.updateRequest,updateSocket:t.updateSocket},t.name):"gui.Alert"===t.type?Object(h.jsx)(p,{name:t.name,message:t.message},t.name):void 0},g=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={name:t.name,text:t.text,list:t.list,onInitRequest:t.onInitRequest},a.components=[],a.updateList(),a}return Object(u.a)(n,[{key:"updateList",value:function(){var t=this;this.state.list.forEach((function(e){t.components.push(x(e))}))}},{key:"componentDidMount",value:function(){this.updateList(),window.fetch(this.state.onInitRequest,{credentials:"include",redirect:"follow"}).catch((function(t){return console.log(t)}))}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("h1",{children:[" ",this.state.text]}),Object(h.jsx)("div",{className:"containerView blog-shadow-dreamy",children:Object(h.jsx)(h.Fragment,{children:this.components})})]})}}]),n}(c.a.Component),y=n(2),w=function(t){Object(r.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={data:{containers:[]}},a}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;window.fetch("/gui",{credentials:"include",redirect:"follow"}).then((function(t){return t.json()})).then((function(e){t.setState({data:e})}))}},{key:"render",value:function(){return Object(h.jsxs)(d.a,{children:[this.state.data.containers.map((function(t){return Object(h.jsx)(y.a,{exact:!0,path:"/"+t.name,children:Object(h.jsx)(g,{name:t.name,text:t.text,list:t.list,onInitRequest:t.onInitRequest})},t.name)})),Object(h.jsx)(y.a,{exact:!0,path:"/",children:Object(h.jsx)(m,{})})]})}}]),n}(c.a.Component);s.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(w,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.dcff1c81.chunk.js.map
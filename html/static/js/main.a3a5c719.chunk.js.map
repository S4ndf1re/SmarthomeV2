{"version":3,"sources":["Components/Container.js","Components/ComponentViewer.js","Components/Button.js","Components/Checkbox.js","Components/TextField.js","Components/Data.js","Components/Alert.js","Components/Util.js","Components/ComponentPage.js","App.js","index.js"],"names":["Container","props","state","name","text","list","to","this","className","React","Component","ComponentViewer","data","containers","window","fetch","credentials","redirect","then","response","redirected","json","location","href","d","setState","map","v","Button","onClick","variant","clickEvent","Checkbox","onStateClick","offStateClick","getStateClick","checked","FormGroup","FormControlLabel","control","onChange","evt","label","status","event","path","target","TextField","updateRequest","content","onUpdate","id","getID","value","fullWidth","valueJson","JSON","stringify","method","mode","cache","headers","referrerPolicy","body","Data","timeout","connect","noReconnect","connectInterval","ws","WebSocket","host","updateSocket","that","onopen","clearTimeout","onclose","e","console","log","reason","setTimeout","check","Math","min","onerror","error","close","onmessage","msg","child","parse","readyState","CLOSED","getComponentForType","Alert","message","severity","open","vertical","horizontal","Snackbar","autoHideDuration","onClose","handleClose","anchorOrigin","sx","width","type","onClickRequest","onOnStateRequest","onOffStateRequest","onGetStateRequest","ComponentPage","onInitRequest","onUnloadRequest","components","updateList","forEach","push","catch","err","App","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a3a5c719.chunk.js","sourcesContent":["import '../css/Container.css'\r\nimport '../css/shadow.css'\r\nimport React from 'react'\r\nimport {Link} from \"react-router-dom\";\r\n\r\n\r\nclass Container extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            text: props.text,\r\n            list: props.list\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            <Link to={this.state.name} className=\"container blog-shadow-dreamy\">\r\n                <p>{this.state.text}</p>\r\n            </Link>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Container;\r\n","import React from 'react'\r\nimport Container from './Container'\r\nimport '../css/ComponentViewer.css'\r\nimport '../css/containerView.css'\r\n\r\nclass ComponentViewer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: {\r\n                containers: []\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.fetch(\"/gui\", {\r\n                credentials: \"include\",\r\n                redirect: \"follow\"\r\n            }\r\n        ).then(response => {\r\n            if (response.redirected) {\r\n                window.location.href = \"/login\"\r\n            } else {\r\n                return response.json()\r\n            }\r\n        }).then(d => {\r\n            this.setState({data: d})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const data = this.state.data\r\n        return (\r\n            <div className=\"max-div\">\r\n                <h1>Devices</h1>\r\n                <div className=\"containerView blog-shadow-dreamy\">\r\n                    {\r\n                        data[\"containers\"].map(v => <Container name={v.name} text={v.text} list={v.list}/>)\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default ComponentViewer;","import React from 'react'\r\nimport MuiButton from '@mui/material/Button';\r\nimport '../css/shadow.css'\r\nimport '../css/ComponentPage.css'\r\n\r\nclass Button extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onClick: props.onClick,\r\n            name: props.name,\r\n            text: props.text\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"default-align default-margin default-padding\">\r\n                <MuiButton variant=\"outlined\" onClick={() => this.clickEvent()}>{this.state.text}</MuiButton>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    clickEvent() {\r\n        window.fetch(this.state.onClick, {\r\n            credentials: \"include\",\r\n            redirect: \"follow\"\r\n        })\r\n    }\r\n}\r\n\r\nexport default Button","import '../css/ComponentPage.css'\r\nimport '../css/shadow.css'\r\nimport React from 'react'\r\nimport MuiCheckbox from '@mui/material/Switch'\r\nimport {FormControlLabel, FormGroup} from \"@mui/material\";\r\n\r\nclass Checkbox extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            onStateClick: props.onStateClick,\r\n            offStateClick: props.offStateClick,\r\n            getStateClick: props.getStateClick,\r\n            name: props.name,\r\n            text: props.text,\r\n            checked: false\r\n        }\r\n    }\r\n\r\n    getID() {\r\n        return this.state.onStateClick + this.state.offStateClick + this.state.name\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"default-align default-margin default-padding\">\r\n                <FormGroup>\r\n                    <FormControlLabel\r\n                        control={<MuiCheckbox checked={this.state.checked} onChange={(evt) => this.clickEvent(evt)}/>}\r\n                        label={this.state.text}/>\r\n                </FormGroup>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.fetch(this.state.getStateClick, {\r\n            credentials: \"include\",\r\n            redirect: \"follow\"\r\n        }).then(data => data.json()).then(data => {\r\n                this.setState({checked: data.status})\r\n            }\r\n        );\r\n    }\r\n\r\n    clickEvent(event) {\r\n        let path = \"\"\r\n        if (event.target.checked) {\r\n            path = this.state.onStateClick\r\n        } else {\r\n            path = this.state.offStateClick\r\n        }\r\n        window.fetch(path, {\r\n            credentials: \"include\",\r\n            redirect: \"follow\"\r\n        }).then(data => data.json()).then(data => {\r\n            this.setState({checked: data.status});\r\n        });\r\n    }\r\n}\r\n\r\nexport default Checkbox\r\n","import '../css/ComponentPage.css'\r\nimport '../css/shadow.css'\r\nimport MuiTextField from \"@mui/material/TextField\"\r\nimport React from 'react'\r\n\r\nclass TextField extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            updateRequest: props.updateRequest,\r\n            name: props.name,\r\n            text: props.text,\r\n            checked: false,\r\n            content: \"\"\r\n        }\r\n    }\r\n\r\n    getID() {\r\n        return this.state.onUpdate + this.state.name\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"default-align default-margin default-padding\">\r\n                <MuiTextField id={this.getID()} value={this.state.content} onChange={(event) => this.clickEvent(event)}\r\n                              label={this.state.text} variant=\"outlined\"\r\n                              fullWidth/>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    clickEvent(event) {\r\n        let value = event.target.value\r\n        let valueJson = JSON.stringify({text: value})\r\n        window.fetch(this.state.updateRequest, {\r\n            method: 'POST',\r\n            mode: 'cors',\r\n            cache: 'no-cache',\r\n            credentials: 'include',\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            redirect: 'follow',\r\n            referrerPolicy: \"no-referrer\",\r\n            body: valueJson\r\n        });\r\n        this.setState({content: value})\r\n    }\r\n}\r\n\r\nexport default TextField\r\n","import '../css/ComponentPage.css'\r\nimport '../css/shadow.css'\r\nimport React from 'react'\r\nimport getComponentForType from \"./Util\";\r\n\r\nclass Data extends React.Component {\r\n    timeout = 250; // Initial timeout duration as a class variable\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            ws: null,\r\n            child: null,\r\n            noReconnect: false,\r\n            updateRequest: props.updateRequest,\r\n            updateSocket: props.updateSocket\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.setState({noReconnect: true})\r\n        this.connect()\r\n\r\n        fetch(this.state.updateRequest, {\r\n            credentials: \"include\"\r\n        }).then(data => data.json()).then(data => {\r\n            this.setState({child: data})\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.state.ws !== null) {\r\n            this.setState({noReconnect: false})\r\n            this.state.ws.close()\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @function connect\r\n     * This function establishes the connect with the websocket and also ensures constant reconnection if connection closes\r\n     */\r\n    connect = () => {\r\n        if (this.state.noReconnect) {\r\n            return\r\n        }\r\n        let ws = new WebSocket(\"ws://\" + window.location.host + this.state.updateSocket);\r\n        let that = this; // cache the this\r\n        let connectInterval;\r\n\r\n        // websocket onopen event listener\r\n        ws.onopen = () => {\r\n            this.setState({ws: ws});\r\n\r\n            that.timeout = 250; // reset timer to 250 on open of websocket connection\r\n            clearTimeout(connectInterval); // clear Interval on on open of websocket connection\r\n        };\r\n\r\n        // websocket onclose event listener\r\n        ws.onclose = e => {\r\n            console.log(e.reason)\r\n            that.timeout = that.timeout + that.timeout; //increment retry interval\r\n            connectInterval = setTimeout(this.check, Math.min(10000, that.timeout)); //call check function after timeout\r\n        };\r\n\r\n        // websocket onerror event listener\r\n        ws.onerror = (error) => {\r\n            console.error(error)\r\n            ws.close();\r\n        };\r\n\r\n        ws.onmessage = (msg) => {\r\n            this.setState({child: null})\r\n            this.setState({child: JSON.parse(msg.data)})\r\n        }\r\n    };\r\n\r\n    check = () => {\r\n        const {ws} = this.state;\r\n        if (!ws || ws.readyState === WebSocket.CLOSED) this.connect(); //check if websocket instance is closed, if so call `connect` function.\r\n    };\r\n\r\n    render() {\r\n        if (this.state.child === null) {\r\n            return null;\r\n        }\r\n        return getComponentForType(this.state.child);\r\n    }\r\n\r\n}\r\n\r\nexport default Data","import {Snackbar} from \"@mui/material\";\r\nimport MuiAlert from \"@mui/material/Alert\"\r\nimport * as React from 'react'\r\n\r\n\r\nclass Alert\r\n    extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            message: props.message,\r\n            name: props.name,\r\n            severity: props.severity,\r\n            open: true\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n    }\r\n\r\n    handleClose(event, reason) {\r\n        if (reason === 'clickaway') {\r\n            return\r\n        }\r\n        this.setState({open: false})\r\n    }\r\n\r\n    render() {\r\n        const {vertical, horizontal} = {vertical: 'top', horizontal: 'right'}\r\n        if (this.state.message !== null && this.state.message !== \"\") {\r\n            return (\r\n                <Snackbar open={this.state.open} autoHideDuration={6000}\r\n                          onClose={(event, reason) => this.handleClose(event, reason)}\r\n                          anchorOrigin={{vertical, horizontal}}>\r\n                    <MuiAlert severity={this.state.severity}\r\n                              onClose={(event, reason) => this.handleClose(event, reason)}\r\n                              sx={{width: '100%'}}>\r\n                        {this.state.message}\r\n                    </MuiAlert>\r\n                </Snackbar>\r\n            )\r\n        }\r\n        return null\r\n    }\r\n\r\n}\r\n\r\nexport default Alert;","import Button from \"./Button\";\r\nimport Checkbox from \"./Checkbox\";\r\nimport TextField from \"./TextField\";\r\nimport Data from \"./Data\";\r\nimport Alert from \"./Alert\";\r\n\r\nfunction getComponentForType(state) {\r\n    if (state.type === \"gui.Button\") {\r\n        return <Button key={state.name} name={state.name} text={state.text}\r\n                       onClick={state.onClickRequest}/>\r\n    } else if (state.type === \"gui.Checkbox\") {\r\n        return <Checkbox key={state.name} name={state.name} text={state.text}\r\n                         onStateClick={state.onOnStateRequest}\r\n                         offStateClick={state.onOffStateRequest}\r\n                         getStateClick={state.onGetStateRequest}/>\r\n    } else if (state.type === \"gui.TextField\") {\r\n        return <TextField key={state.name} name={state.name} text={state.text}\r\n                          updateRequest={state.updateRequest}/>\r\n    } else if (state.type === \"gui.Data\") {\r\n        return <Data key={state.name} name={state.name} updateRequest={state.updateRequest}\r\n                     updateSocket={state.updateSocket}/>\r\n    } else if (state.type === \"gui.Alert\") {\r\n        return <Alert key={state.name} name={state.name} message={state.message} severity={state.severity}/>\r\n    }\r\n}\r\n\r\nexport default getComponentForType","import React from 'react'\r\nimport '../css/shadow.css'\r\nimport '../css/ComponentPage.css'\r\nimport '../css/containerView.css'\r\nimport getComponentForType from \"./Util\";\r\n\r\nclass ComponentPage extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: props.name,\r\n            text: props.text,\r\n            list: props.list,\r\n            onInitRequest: props.onInitRequest,\r\n            onUnloadRequest: props.onUnloadRequest\r\n        }\r\n        this.components = []\r\n        this.updateList()\r\n    }\r\n\r\n    updateList() {\r\n        this.state.list.forEach(state => {\r\n            this.components.push(getComponentForType(state))\r\n        })\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.updateList()\r\n        window.fetch(this.state.onInitRequest, {\r\n                credentials: \"include\",\r\n                redirect: \"follow\"\r\n            }\r\n        ).catch(err => console.log(err))\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.fetch(this.state.onUnloadRequest, {\r\n                credentials: \"include\",\r\n                redirect: \"follow\"\r\n            }\r\n        ).catch(err => console.log(err))\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <h1> {this.state.text}\r\n                </h1>\r\n                <div className=\"containerView blog-shadow-dreamy\">\r\n                    <>\r\n                        {this.components}\r\n                    </>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default ComponentPage","import './css/App.css';\r\nimport React from 'react'\r\nimport ComponentViewer from './Components/ComponentViewer'\r\nimport ComponentPage from './Components/ComponentPage'\r\nimport {BrowserRouter as Router, Route,} from \"react-router-dom\"\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            data: {\r\n                containers: []\r\n            }\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.fetch(\"/gui\", {\r\n                credentials: \"include\",\r\n                redirect: \"manual\"\r\n            }\r\n        ).then(response => {\r\n                if (response.redirected) {\r\n                    window.location.href = \"/login\"\r\n                } else {\r\n                    return response.json()\r\n                }\r\n            }\r\n        ).then(d => {\r\n            this.setState({data: d})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Router>\r\n                {\r\n                    this.state.data.containers.map(v =>\r\n                        <Route key={v.name} exact path={\"/\" + v.name}>\r\n                            <ComponentPage name={v.name} text={v.text} list={v.list} onInitRequest={v.onInitRequest}\r\n                                           onUnloadRequest={v.onUnloadRequest}/>\r\n                        </Route>\r\n                    )\r\n                }\r\n                <Route exact path=\"/\">\r\n                    <ComponentViewer/>\r\n                </Route>\r\n            </Router>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <React.StrictMode>\r\n        <App/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n);"],"sourceRoot":""}